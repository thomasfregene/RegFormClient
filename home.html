<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Developers Hub</title>
</head>
<body>
    <div class="container text-center">
        <h1 class="dev-title dev-home display-1 mt-3">Developers Hub</h1>
        <hr class="mt-4"/>
        <h4 class="mt-4 subtitle">List Of Members</h4>
        <div class="row text-center justify-content-center">
            <div class="col-md-9 text-center mt-2">

                <table class="table mt-4">
                    <thead class="thead-light table-head">
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Address</th>
                        <th scope="col">Phone Number</th>
                      </tr>
                    </thead>
                    <tbody id="t-body">
                      <tr>
                        <th scope="row">1</th>
                        <td class="table-text">Mark</td>
                        <td class="table-text">Otto</td>
                        <td class="table-text">North-East Virginia</td>
                        <td class="table-text">+2347087645677</td>
                      </tr>
                      <tr>
                        <th scope="row">2</th>
                        <td class="table-text">Jacob</td>
                        <td class="table-text">Thornton</td>
                        <td class="table-text">Sao-Palo Brazil</td>
                        <td class="table-text">+2347087645677</td>
                      </tr>
                      <tr>
                        <th scope="row">3</th>
                        <td class="table-text">Larry</td>
                        <td class="table-text">the Bird</td>
                        <td class="table-text">Edinburhg England</td>
                        <td class="table-text">+2347087645677</td>
                      </tr>
                    </tbody>
                  </table>

                <a href="index.html" class="btn logout-home btn-outline-primary mt-5">Log out</a>

            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" ></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>


$(document).ready(function () {  
    $.ajax({  
        type: "GET",  
        url: "https://localhost:44373/api/persons",  
        contentType: "application/json; charset=utf-8",  
        dataType: "json",  
        success: function (data) { 
            console.log(JSON.stringify(data));                  
            // $("#DIV").html('');   
            // var DIV = '';  
            $.each(data, (i, item) => {  
                let rows = `<tr>
                <td class="table-text"> ${item.id} </td>
                <td class="table-text"> ${item.firstName} </td>
                <td class="table-text"> ${item.lastName} </td>
                <td class="table-text"> ${item.address} </td>
                <td class="table-text"> ${item.phoneNumber} </td>
                </tr>`
                $('#t-body').append(rows);  
            }); //End of foreach Loop   
            console.log(data);  
        }, //End of AJAX Success function  

        failure: function (data) {  
            alert(data.responseText);  
        }, //End of AJAX failure function  
        error: function (data) {  
            alert(data.responseText);  
        } //End of AJAX error function  

    });         
});  


    </script>
</body>
</html> 